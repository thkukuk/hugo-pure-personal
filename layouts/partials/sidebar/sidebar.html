<div id="nav" class="pure-u">
  <div class="hamburger" onclick="toggleMenu(this)">
    <div class="bar1"></div>
    <div class="bar2"></div>
    <div class="bar3"></div>
  </div>

  <div class="nav-inner">
    <div class="pure-menu">
      <div class="pure-menu-heading">
        <a href="/"><img src='{{ .Site.Params.sidebar.logo | default "MISSING" | relURL }}' alt="Profile {{ .Site.Title }}" class="rounded-logo"></a>
        <h2>{{ .Site.Params.intro.main | default "Welcome, I'm John Doe" | emojify }}</h2>
        {{- if .Site.Params.intro.sub }}
        <h3>{{ .Site.Params.intro.sub | emojify }}</h3>
        {{ end -}}
      </div>

      <ul class="pure-menu-list">
      {{ range .Site.Menus.main }}
        <li class="pure-menu-item {{ if .HasChildren }}pure-menu-has-children pure-menu-allow-hover{{ end }}">
          <a href="{{ relURL .URL }}" class="pure-menu-link">{{ .Name }}</a>
	  {{ if .Params.Icon_svg }}
            <span class="icon">&nbsp;{{ readFile .Params.Icon_svg | safeHTML }}</span>
          {{ end }}
          {{ if .HasChildren }}
          <ul class="pure-menu-children">
            {{ range .Children }}
            <li class="pure-menu-item">
              <a href="{{ relURL .URL }}" class="pure-menu-link">{{ .Name }}</a>
	      {{ if .Params.Icon_svg }}
                <span class="icon">&nbsp;{{ readFile .Params.Icon_svg | safeHTML }}</span>
              {{ end }}
            </li>
            {{ end }}
          </ul>
          {{ end }}
        </li>
      {{ end }}
      </ul>
      <div class="pure-menu-footer">
        <div class="socials">
        {{ partial "sidebar/social" .}}
        </div>
      </div>
    </div> <!-- "pure-menu" -->
  </div> <!-- "nav-inner" -->
</div> <!-- id="nav" -->

<script>
      function toggleClass(element, className) {
        var classes = element.className.split(/\s+/);
        var length = classes.length;
        var i = 0;

        for (; i < length; i++) {
            if (classes[i] === className) {
                classes.splice(i, 1);
                break;
            }
        }
        // The className is not found
        if (length === classes.length) {
            classes.push(className);
        }

        element.className = classes.join(' ');
      }

      function toggleMenu(x) {
        x.classList.toggle("change");

        var active = 'active';
        var menu = document.getElementById('nav');

        toggleClass(menu, active);
      }
</script>

<!-- https://github.com/pure-css/pure/blob/master/site/static/layouts/email/index.html -->
<!-- script type="text/javascript">




    function handleEvent(e) {
        var elements = getElements();

        if (e.target.id === elements.menuLink.id) {
            toggleMenu();
            e.preventDefault();
        } else if (elements.menu.className.indexOf('active') !== -1) {
            toggleMenu();
        }
    }

    document.addEventListener('DOMContentLoaded', function () {
        document.addEventListener('click', handleEvent);
    });
</script -->
